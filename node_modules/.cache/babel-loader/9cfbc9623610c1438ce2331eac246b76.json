{"ast":null,"code":"import { getAuth, signInAnonymously, onAuthStateChanged } from 'firebase/auth';\nimport { initializeApp } from \"firebase/app\";\nimport { getFirestore, collection, onSnapshot, updateDoc, doc } from \"firebase/firestore\";\nimport { firebaseConfig } from \"./firebase.config\";\nconst app = initializeApp(firebaseConfig);\nexport const db = getFirestore(app);\nexport const paintingsRef = collection(db, 'paintings');\nlet paintings = [];\nonSnapshot(paintingsRef, snapshot => {\n  snapshot.docs.forEach(doc => {\n    paintings.push({ ...doc.data(),\n      id: doc.id\n    });\n  });\n  console.log(paintings);\n  return paintings;\n});\nexport const paintingsData = paintings;\nexport const auth = getAuth();\nexport const signInUser = signInAnonymously(auth).then(() => {\n  onAuthStateChanged(auth, user => {\n    if (user) {\n      user.displayName = \"Guest\";\n      console.log(\"signed in\");\n    } else {\n      console.log(\"signed out\");\n    }\n  });\n});\nexport const updateItem = item => {\n  const itemRef = doc(db, \"paintings\", item);\n  updateDoc(itemRef, {\n    stock: item.stock\n  });\n};","map":{"version":3,"names":["getAuth","signInAnonymously","onAuthStateChanged","initializeApp","getFirestore","collection","onSnapshot","updateDoc","doc","firebaseConfig","app","db","paintingsRef","paintings","snapshot","docs","forEach","push","data","id","console","log","paintingsData","auth","signInUser","then","user","displayName","updateItem","item","itemRef","stock"],"sources":["/Users/bridgerbrown/ecommerce-basic/src/Firebase/index.js"],"sourcesContent":["import { getAuth, signInAnonymously, onAuthStateChanged } from 'firebase/auth'\nimport { initializeApp } from \"firebase/app\";\nimport { getFirestore, collection, onSnapshot, updateDoc, doc } from \"firebase/firestore\";\nimport { firebaseConfig } from \"./firebase.config\"\n\nconst app = initializeApp(firebaseConfig);\nexport const db = getFirestore(app);\nexport const paintingsRef = collection(db, 'paintings')\n\nlet paintings = []\nonSnapshot(paintingsRef, (snapshot) => {\n    snapshot.docs.forEach((doc) => {\n      paintings.push({ ...doc.data(), id: doc.id })\n    })\n    console.log(paintings)\n    return paintings\n  })\n\nexport const paintingsData = paintings\n\nexport const auth = getAuth()\nexport const signInUser = signInAnonymously(auth)\n  .then(() => {\n    onAuthStateChanged(auth, (user) => {\n      if (user) {\n        user.displayName = \"Guest\"\n        console.log(\"signed in\")\n      }\n      else {\n        console.log(\"signed out\")\n      }\n    })\n  })\n\nexport const updateItem = (item) => {\n  const itemRef = doc(db, \"paintings\", item)\n  updateDoc(itemRef, {\n    stock: item.stock\n  })\n}"],"mappings":"AAAA,SAASA,OAAT,EAAkBC,iBAAlB,EAAqCC,kBAArC,QAA+D,eAA/D;AACA,SAASC,aAAT,QAA8B,cAA9B;AACA,SAASC,YAAT,EAAuBC,UAAvB,EAAmCC,UAAnC,EAA+CC,SAA/C,EAA0DC,GAA1D,QAAqE,oBAArE;AACA,SAASC,cAAT,QAA+B,mBAA/B;AAEA,MAAMC,GAAG,GAAGP,aAAa,CAACM,cAAD,CAAzB;AACA,OAAO,MAAME,EAAE,GAAGP,YAAY,CAACM,GAAD,CAAvB;AACP,OAAO,MAAME,YAAY,GAAGP,UAAU,CAACM,EAAD,EAAK,WAAL,CAA/B;AAEP,IAAIE,SAAS,GAAG,EAAhB;AACAP,UAAU,CAACM,YAAD,EAAgBE,QAAD,IAAc;EACnCA,QAAQ,CAACC,IAAT,CAAcC,OAAd,CAAuBR,GAAD,IAAS;IAC7BK,SAAS,CAACI,IAAV,CAAe,EAAE,GAAGT,GAAG,CAACU,IAAJ,EAAL;MAAiBC,EAAE,EAAEX,GAAG,CAACW;IAAzB,CAAf;EACD,CAFD;EAGAC,OAAO,CAACC,GAAR,CAAYR,SAAZ;EACA,OAAOA,SAAP;AACD,CANO,CAAV;AAQA,OAAO,MAAMS,aAAa,GAAGT,SAAtB;AAEP,OAAO,MAAMU,IAAI,GAAGvB,OAAO,EAApB;AACP,OAAO,MAAMwB,UAAU,GAAGvB,iBAAiB,CAACsB,IAAD,CAAjB,CACvBE,IADuB,CAClB,MAAM;EACVvB,kBAAkB,CAACqB,IAAD,EAAQG,IAAD,IAAU;IACjC,IAAIA,IAAJ,EAAU;MACRA,IAAI,CAACC,WAAL,GAAmB,OAAnB;MACAP,OAAO,CAACC,GAAR,CAAY,WAAZ;IACD,CAHD,MAIK;MACHD,OAAO,CAACC,GAAR,CAAY,YAAZ;IACD;EACF,CARiB,CAAlB;AASD,CAXuB,CAAnB;AAaP,OAAO,MAAMO,UAAU,GAAIC,IAAD,IAAU;EAClC,MAAMC,OAAO,GAAGtB,GAAG,CAACG,EAAD,EAAK,WAAL,EAAkBkB,IAAlB,CAAnB;EACAtB,SAAS,CAACuB,OAAD,EAAU;IACjBC,KAAK,EAAEF,IAAI,CAACE;EADK,CAAV,CAAT;AAGD,CALM"},"metadata":{},"sourceType":"module"}