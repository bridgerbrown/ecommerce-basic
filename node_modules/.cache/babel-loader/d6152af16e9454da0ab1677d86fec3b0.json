{"ast":null,"code":"import { getAuth, signInAnonymously, onAuthStateChanged } from 'firebase/auth';\nimport { initializeApp } from \"firebase/app\";\nimport { getFirestore, collection, onSnapshot } from \"firebase/firestore\";\nimport { firebaseConfig } from \"./firebase.config\";\nconst app = initializeApp(firebaseConfig);\nexport const db = getFirestore(app);\nexport const paintingsRef = collection(db, 'paintings');\nlet paintings = [];\nonSnapshot(paintingsRef, snapshot => {\n  snapshot.docs.forEach(doc => {\n    paintings.push({ ...doc.data(),\n      id: doc.id\n    });\n  });\n  console.log(paintings);\n  return paintings;\n});\nexport const paintingsData = paintings;\nconst auth = getAuth();\nexport const signInUser = signInAnonymously(auth);\nexport const updateProducts = (db, products) => {\n  let listPromises = products.map((prod, index) => {\n    return updateProduct(db, prod);\n  });\n  return Promise.all(listPromises);\n};\nexport const updateProduct = (db, item) => {\n  return db.collection(\"paintings\").doc(item.id).update({\n    stock: item.stock\n  });\n};","map":{"version":3,"names":["getAuth","signInAnonymously","onAuthStateChanged","initializeApp","getFirestore","collection","onSnapshot","firebaseConfig","app","db","paintingsRef","paintings","snapshot","docs","forEach","doc","push","data","id","console","log","paintingsData","auth","signInUser","updateProducts","products","listPromises","map","prod","index","updateProduct","Promise","all","item","update","stock"],"sources":["/Users/bridgerbrown/ecommerce-basic/src/Firebase/index.js"],"sourcesContent":["import { getAuth, signInAnonymously, onAuthStateChanged } from 'firebase/auth'\nimport { initializeApp } from \"firebase/app\";\nimport { getFirestore, collection, onSnapshot } from \"firebase/firestore\";\nimport { firebaseConfig } from \"./firebase.config\"\n\nconst app = initializeApp(firebaseConfig);\nexport const db = getFirestore(app);\nexport const paintingsRef = collection(db, 'paintings')\n\nlet paintings = []\nonSnapshot(paintingsRef, (snapshot) => {\n    snapshot.docs.forEach((doc) => {\n      paintings.push({ ...doc.data(), id: doc.id })\n    })\n    console.log(paintings)\n    return paintings\n  })\n\nexport const paintingsData = paintings\n\nconst auth = getAuth()\n  export const signInUser = signInAnonymously(auth)\n\nexport const updateProducts = (db, products) => {\n  let listPromises = products.map((prod, index) => {\n    return updateProduct(db, prod);\n  });\n\n  return Promise.all(listPromises);\n};\n\nexport const updateProduct = (db, item) => {\n  return db.collection(\"paintings\").doc(item.id).update({\n    stock: item.stock,\n  });\n};"],"mappings":"AAAA,SAASA,OAAT,EAAkBC,iBAAlB,EAAqCC,kBAArC,QAA+D,eAA/D;AACA,SAASC,aAAT,QAA8B,cAA9B;AACA,SAASC,YAAT,EAAuBC,UAAvB,EAAmCC,UAAnC,QAAqD,oBAArD;AACA,SAASC,cAAT,QAA+B,mBAA/B;AAEA,MAAMC,GAAG,GAAGL,aAAa,CAACI,cAAD,CAAzB;AACA,OAAO,MAAME,EAAE,GAAGL,YAAY,CAACI,GAAD,CAAvB;AACP,OAAO,MAAME,YAAY,GAAGL,UAAU,CAACI,EAAD,EAAK,WAAL,CAA/B;AAEP,IAAIE,SAAS,GAAG,EAAhB;AACAL,UAAU,CAACI,YAAD,EAAgBE,QAAD,IAAc;EACnCA,QAAQ,CAACC,IAAT,CAAcC,OAAd,CAAuBC,GAAD,IAAS;IAC7BJ,SAAS,CAACK,IAAV,CAAe,EAAE,GAAGD,GAAG,CAACE,IAAJ,EAAL;MAAiBC,EAAE,EAAEH,GAAG,CAACG;IAAzB,CAAf;EACD,CAFD;EAGAC,OAAO,CAACC,GAAR,CAAYT,SAAZ;EACA,OAAOA,SAAP;AACD,CANO,CAAV;AAQA,OAAO,MAAMU,aAAa,GAAGV,SAAtB;AAEP,MAAMW,IAAI,GAAGtB,OAAO,EAApB;AACE,OAAO,MAAMuB,UAAU,GAAGtB,iBAAiB,CAACqB,IAAD,CAApC;AAET,OAAO,MAAME,cAAc,GAAG,CAACf,EAAD,EAAKgB,QAAL,KAAkB;EAC9C,IAAIC,YAAY,GAAGD,QAAQ,CAACE,GAAT,CAAa,CAACC,IAAD,EAAOC,KAAP,KAAiB;IAC/C,OAAOC,aAAa,CAACrB,EAAD,EAAKmB,IAAL,CAApB;EACD,CAFkB,CAAnB;EAIA,OAAOG,OAAO,CAACC,GAAR,CAAYN,YAAZ,CAAP;AACD,CANM;AAQP,OAAO,MAAMI,aAAa,GAAG,CAACrB,EAAD,EAAKwB,IAAL,KAAc;EACzC,OAAOxB,EAAE,CAACJ,UAAH,CAAc,WAAd,EAA2BU,GAA3B,CAA+BkB,IAAI,CAACf,EAApC,EAAwCgB,MAAxC,CAA+C;IACpDC,KAAK,EAAEF,IAAI,CAACE;EADwC,CAA/C,CAAP;AAGD,CAJM"},"metadata":{},"sourceType":"module"}