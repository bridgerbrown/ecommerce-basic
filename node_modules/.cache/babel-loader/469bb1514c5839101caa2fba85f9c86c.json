{"ast":null,"code":"import React, { Component } from \"react\";\nimport withContext from \"../withContext\";\nimport { Navigate } from \"react-router-dom\";\nimport axios from 'axios';\nconst initState = {\n  name: \"\",\n  price: \"\",\n  stock: \"\",\n  shortDesc: \"\",\n  description: \"\"\n};\n\nclass AddProduct extends Component {\n  constructor(props) {\n    super(props);\n\n    this.save = async e => {\n      e.preventDefault();\n      const {\n        name,\n        price,\n        stock,\n        shortDesc,\n        description\n      } = this.state;\n\n      if (name && price) {\n        const id = Math.random().toString(36).substring(2) + Date.now().toString(36);\n        await axios.post('http://localhost:3001/products', {\n          id,\n          name,\n          price,\n          stock,\n          shortDesc,\n          description\n        });\n        this.props.context.addProduct({\n          name,\n          price,\n          shortDesc,\n          description,\n          stock: stock || 0\n        }, () => this.setState(initState));\n        this.setState({\n          flash: {\n            status: 'is-success',\n            msg: 'Product created successfully'\n          }\n        });\n      } else {\n        this.setState({\n          flash: {\n            status: 'is-danger',\n            msg: 'Please enter name and price'\n          }\n        });\n      }\n    };\n\n    this.state = initState;\n  }\n\n}","map":{"version":3,"names":["React","Component","withContext","Navigate","axios","initState","name","price","stock","shortDesc","description","AddProduct","constructor","props","save","e","preventDefault","state","id","Math","random","toString","substring","Date","now","post","context","addProduct","setState","flash","status","msg"],"sources":["/Users/bridgerbrown/ecommerce-basic/src/components/AddProduct.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport withContext from \"../withContext\";\nimport { Navigate } from \"react-router-dom\";\nimport axios from 'axios'\n\nconst initState = {\n    name: \"\",\n    price: \"\",\n    stock: \"\",\n    shortDesc: \"\",\n    description: \"\"\n}\n\nclass AddProduct extends Component {\n    constructor(props) {\n        super(props)\n        this.state = initState\n    }\n\n    save = async (e) => {\n        e.preventDefault()\n        const { name, price, stock, shortDesc, description } = this.state\n\n        if (name && price) {\n            const id = Math.random().toString(36).substring(2) + Date.now().toString(36)\n\n            await axios.post(\n                'http://localhost:3001/products',\n                { id, name, price, stock, shortDesc, description }\n            )\n\n            this.props.context.addProduct(\n                {\n                    name,\n                    price,\n                    shortDesc,\n                    description,\n                    stock: stock || 0\n                },\n                () => this.setState(initState)\n            )\n            this.setState(\n                { flash: { status: 'is-success', msg: 'Product created successfully' }}\n            )\n\n        } else {\n            this.setState(\n                { flash: { status: 'is-danger', msg: 'Please enter name and price' }}\n            )\n        }\n    }\n}"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,WAAP,MAAwB,gBAAxB;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,SAAS,GAAG;EACdC,IAAI,EAAE,EADQ;EAEdC,KAAK,EAAE,EAFO;EAGdC,KAAK,EAAE,EAHO;EAIdC,SAAS,EAAE,EAJG;EAKdC,WAAW,EAAE;AALC,CAAlB;;AAQA,MAAMC,UAAN,SAAyBV,SAAzB,CAAmC;EAC/BW,WAAW,CAACC,KAAD,EAAQ;IACf,MAAMA,KAAN;;IADe,KAKnBC,IALmB,GAKZ,MAAOC,CAAP,IAAa;MAChBA,CAAC,CAACC,cAAF;MACA,MAAM;QAAEV,IAAF;QAAQC,KAAR;QAAeC,KAAf;QAAsBC,SAAtB;QAAiCC;MAAjC,IAAiD,KAAKO,KAA5D;;MAEA,IAAIX,IAAI,IAAIC,KAAZ,EAAmB;QACf,MAAMW,EAAE,GAAGC,IAAI,CAACC,MAAL,GAAcC,QAAd,CAAuB,EAAvB,EAA2BC,SAA3B,CAAqC,CAArC,IAA0CC,IAAI,CAACC,GAAL,GAAWH,QAAX,CAAoB,EAApB,CAArD;QAEA,MAAMjB,KAAK,CAACqB,IAAN,CACF,gCADE,EAEF;UAAEP,EAAF;UAAMZ,IAAN;UAAYC,KAAZ;UAAmBC,KAAnB;UAA0BC,SAA1B;UAAqCC;QAArC,CAFE,CAAN;QAKA,KAAKG,KAAL,CAAWa,OAAX,CAAmBC,UAAnB,CACI;UACIrB,IADJ;UAEIC,KAFJ;UAGIE,SAHJ;UAIIC,WAJJ;UAKIF,KAAK,EAAEA,KAAK,IAAI;QALpB,CADJ,EAQI,MAAM,KAAKoB,QAAL,CAAcvB,SAAd,CARV;QAUA,KAAKuB,QAAL,CACI;UAAEC,KAAK,EAAE;YAAEC,MAAM,EAAE,YAAV;YAAwBC,GAAG,EAAE;UAA7B;QAAT,CADJ;MAIH,CAtBD,MAsBO;QACH,KAAKH,QAAL,CACI;UAAEC,KAAK,EAAE;YAAEC,MAAM,EAAE,WAAV;YAAuBC,GAAG,EAAE;UAA5B;QAAT,CADJ;MAGH;IACJ,CApCkB;;IAEf,KAAKd,KAAL,GAAaZ,SAAb;EACH;;AAJ8B"},"metadata":{},"sourceType":"module"}