{"ast":null,"code":"var _jsxFileName = \"/Users/bridgerbrown/ecommerce-basic/src/App.js\";\nimport './App.css';\nimport React, { Component } from 'react';\nimport { Route, Routes, NavLink, BrowserRouter as Router } from \"react-router-dom\";\nimport AddProduct from './components/AddProduct';\nimport Cart from './components/Cart';\nimport Login from './components/Login';\nimport About from './components/About';\nimport ProductList from './components/ProductList';\nimport User from './components/User';\nimport Context from \"./Context\";\nimport { signInUser, paintingsData, auth, updateProducts, db, updateItem, authChange } from './Firebase';\nimport ProductItem from './components/ProductItem';\nimport ProductDetails from './components/ProductDetails';\nimport { getIdToken, signInAnonymously, onAuthStateChanged } from 'firebase/auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.login = async username => {\n      signInAnonymously(auth);\n      authChange(username);\n      onAuthStateChanged(auth, async user => {\n        if (user) {\n          const token = await getIdToken(user);\n          this.setState({\n            usertoken: this.state.usertoken.push(token)\n          });\n        }\n      });\n      this.setState({\n        user: username\n      });\n      console.log(this.state.usertoken);\n    };\n\n    this.logout = e => {\n      e.preventDefault();\n      this.setState({\n        user: null,\n        usertoken: null\n      });\n    };\n\n    this.addToCart = product => {\n      setTimeout(() => {\n        let newCart = [];\n        let updatedProducts = [];\n        /* Check Stock */\n\n        let indexProd = this.state.products.findIndex(prod => {\n          return prod.id === product.id;\n        });\n        let correctNumber = product.price.replace(/,/g, '').replace(/\\$/g, '');\n        let newTotal = Number(this.state.total) + Number(correctNumber);\n\n        if (this.state.products[indexProd].stock > 0) {\n          let indexCart = this.state.cart.findIndex(item => {\n            return item.id === product.id;\n          });\n          /* Add product to cart */\n\n          if (indexCart === -1) {\n            /*New item */\n            this.setState({\n              cart: this.state.cart.concat([{\n                id: product.id,\n                title: product.title,\n                img: product.img,\n                link: product.link,\n                description: product.description,\n                medium: product.medium,\n                artist: product.artist,\n                quantity: 1,\n                price: product.price\n              }]),\n              total: newTotal\n            });\n          } else {\n            /* Existing item */\n            newCart = this.state.cart;\n            newCart[indexCart].quantity = newCart[indexCart].quantity + 1;\n            this.setState({\n              cart: newCart,\n              total: newTotal\n            });\n          }\n          /* Update Stock */\n\n\n          updatedProducts = this.state.products;\n          updatedProducts[indexProd].stock--;\n          this.setState({\n            products: updatedProducts,\n            total: newTotal,\n            numberOfItems: this.state.numberOfItems + 1\n          });\n        }\n      }, 100);\n    };\n\n    this.removeFromCart = (id, quantity) => {\n      setTimeout(() => {\n        let newCart = this.state.cart;\n        /* Delete item */\n\n        this.setState({\n          cart: newCart.filter(item => item.id !== id)\n        });\n        let indexProd = this.state.products.findIndex(prod => {\n          return prod.id === id;\n        });\n        let updatedProducts = this.state.products;\n        updatedProducts[indexProd].stock = updatedProducts[indexProd].stock + parseInt(quantity);\n        this.setState({\n          products: updatedProducts\n        });\n      }, 100);\n    };\n\n    this.checkout = () => {\n      const cart = this.state.cart;\n      const products = this.state.products;\n\n      if (cart.length !== 0) {\n        console.log(\"Successful items update\");\n        this.setState({\n          cart: [],\n          total: 0,\n          numberOfItems: 0\n        });\n        alert(\"Cart Ordered!!!\");\n      }\n    };\n\n    this.checkbox = () => {\n      const totalAmount = document.getElementById(\"total-amount\");\n      const freeText = document.getElementById(\"free\");\n      const checkbtn = document.querySelector(\"input\");\n      checkbtn.addEventListener('click', function () {\n        if (checkbtn.checked) {\n          totalAmount.classList.add(\"crossout\");\n          freeText.style.display = \"inherit\";\n        } else {\n          totalAmount.classList.remove(\"crossout\");\n          freeText.style.display = \"none\";\n        }\n      });\n    };\n\n    this.moreInfo = product => {};\n\n    this.state = {\n      user: null,\n      usertoken: {},\n      cart: [],\n      products: [],\n      total: 0,\n      numberOfItems: 0,\n      loaded: false\n    };\n    this.routerRef = /*#__PURE__*/React.createRef();\n  }\n\n  async componentDidMount() {\n    signInAnonymously(auth);\n    const alreadyUser = this.state.usertoken.findIndex(item => {\n      return item === auth.currentUser.getIdToken;\n    });\n\n    if (alreadyUser) {\n      this.login();\n      this.setState({\n        user: auth.currentUser.displayName\n      });\n    }\n\n    let user = null;\n    let cart = [];\n    let total = 0;\n    let numberOfItems = 0;\n    const products = paintingsData;\n    this.setState({\n      user,\n      cart,\n      total,\n      numberOfItems\n    });\n    setTimeout(() => {\n      this.setState({\n        products: products\n      });\n    }, 1000);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Context.Provider, {\n      value: { ...this.state,\n        removeFromCart: this.removeFromCart,\n        addToCart: this.addToCart,\n        login: this.login,\n        checkout: this.checkout,\n        checkbox: this.checkbox\n      },\n      children: /*#__PURE__*/_jsxDEV(Router, {\n        ref: this.routerRef,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"App\",\n          children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n            className: \"navbar container\",\n            role: \"navigation\",\n            \"aria-label\": \"main navigation\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"navbar-brand\",\n              children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"eCommerce Paintings\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                role: \"button\",\n                class: \"navbar-burger burger\",\n                \"aria-label\": \"menu\",\n                \"aria-expanded\": \"false\",\n                \"data-target\": \"navbarBasicExample\",\n                onClick: e => {\n                  e.preventDefault();\n                  this.setState({\n                    showMenu: !this.state.showMenu\n                  });\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  \"aria-hidden\": \"true\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  \"aria-hidden\": \"true\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  \"aria-hidden\": \"true\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 214,\n                  columnNumber: 13\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 11\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `navbar-menu ${this.state.showMenu ? \"is-active\" : \"\"}`,\n              children: [/*#__PURE__*/_jsxDEV(NavLink, {\n                to: \"/products\",\n                className: _ref => {\n                  let {\n                    isActive\n                  } = _ref;\n                  return isActive ? \"active-nav navbar-item\" : \"navbar-item\";\n                },\n                children: \"Products\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(NavLink, {\n                to: \"/cart\",\n                className: _ref2 => {\n                  let {\n                    isActive\n                  } = _ref2;\n                  return isActive ? \"active-nav navbar-item\" : \"navbar-item\";\n                },\n                children: [\"Cart\", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"tag is-primary\",\n                  style: {\n                    marginLeft: \"5px\"\n                  },\n                  children: Object.keys(this.state.cart).length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(NavLink, {\n                to: \"/about\",\n                className: _ref3 => {\n                  let {\n                    isActive\n                  } = _ref3;\n                  return isActive ? \"active-nav navbar-item\" : \"navbar-item\";\n                },\n                children: \"About\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(NavLink, {\n                to: \"/user\",\n                className: _ref4 => {\n                  let {\n                    isActive\n                  } = _ref4;\n                  return isActive ? \"active-nav navbar-item\" : \"navbar-item\";\n                },\n                children: this.state.user\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 15\n              }, this), !this.state.user ? /*#__PURE__*/_jsxDEV(NavLink, {\n                to: \"/login\",\n                className: _ref5 => {\n                  let {\n                    isActive\n                  } = _ref5;\n                  return isActive ? \"active-nav navbar-item\" : \"navbar-item\";\n                },\n                children: \"Login\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 17\n              }, this) : /*#__PURE__*/_jsxDEV(NavLink, {\n                to: \"/\",\n                onClick: this.logout,\n                className: _ref6 => {\n                  let {\n                    isActive\n                  } = _ref6;\n                  return isActive ? \"active-nav navbar-item\" : \"navbar-item\";\n                },\n                children: \"Logout\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Routes, {\n            children: [/*#__PURE__*/_jsxDEV(Route, {\n              exact: true,\n              path: \"/\",\n              element: /*#__PURE__*/_jsxDEV(ProductList, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 44\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              exact: true,\n              path: \"/login\",\n              element: /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 49\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              exact: true,\n              path: \"/user\",\n              element: /*#__PURE__*/_jsxDEV(User, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 48\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              exact: true,\n              path: \"/cart\",\n              element: /*#__PURE__*/_jsxDEV(Cart, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 48\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              exact: true,\n              path: \"/about\",\n              element: /*#__PURE__*/_jsxDEV(About, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 49\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              exact: true,\n              path: \"/add-product\",\n              element: /*#__PURE__*/_jsxDEV(AddProduct, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 55\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              exact: true,\n              path: \"/products\",\n              element: /*#__PURE__*/_jsxDEV(ProductList, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 52\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/:title\",\n              element: /*#__PURE__*/_jsxDEV(ProductDetails, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 44\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 3\n    }, this);\n  }\n\n}","map":{"version":3,"names":["React","Component","Route","Routes","NavLink","BrowserRouter","Router","AddProduct","Cart","Login","About","ProductList","User","Context","signInUser","paintingsData","auth","updateProducts","db","updateItem","authChange","ProductItem","ProductDetails","getIdToken","signInAnonymously","onAuthStateChanged","App","constructor","props","login","username","user","token","setState","usertoken","state","push","console","log","logout","e","preventDefault","addToCart","product","setTimeout","newCart","updatedProducts","indexProd","products","findIndex","prod","id","correctNumber","price","replace","newTotal","Number","total","stock","indexCart","cart","item","concat","title","img","link","description","medium","artist","quantity","numberOfItems","removeFromCart","filter","parseInt","checkout","length","alert","checkbox","totalAmount","document","getElementById","freeText","checkbtn","querySelector","addEventListener","checked","classList","add","style","display","remove","moreInfo","loaded","routerRef","createRef","componentDidMount","alreadyUser","currentUser","displayName","render","showMenu","isActive","marginLeft","Object","keys"],"sources":["/Users/bridgerbrown/ecommerce-basic/src/App.js"],"sourcesContent":["import './App.css';\nimport React, { Component } from 'react';\nimport { Route, Routes, NavLink, BrowserRouter as Router } from \"react-router-dom\"\nimport AddProduct from './components/AddProduct';\nimport Cart from './components/Cart';\nimport Login from './components/Login';\nimport About from './components/About'\nimport ProductList from './components/ProductList';\nimport User from './components/User';\nimport Context from \"./Context\"\nimport { signInUser, paintingsData, auth, updateProducts, db, updateItem, authChange } from './Firebase';\nimport ProductItem from './components/ProductItem';\nimport ProductDetails from './components/ProductDetails'\nimport { getIdToken, signInAnonymously, onAuthStateChanged } from 'firebase/auth';\n\nexport default class App extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      user: null,\n      usertoken: {},\n      cart: [],\n      products: [],\n      total: 0,\n      numberOfItems: 0,\n      loaded: false\n    }\n    this.routerRef = React.createRef()\n  }\n\n  async componentDidMount() {\n    signInAnonymously(auth)\n    const alreadyUser = this.state.usertoken.findIndex((item) => {\n      return item === auth.currentUser.getIdToken\n    })\n    if (alreadyUser) {\n      this.login()\n      this.setState({ user: auth.currentUser.displayName})\n    }\n    let user = null\n    let cart = []\n    let total = 0\n    let numberOfItems = 0\n    \n    const products = paintingsData\n\n    this.setState({ user, cart, total, numberOfItems })\n    setTimeout(() => {\n      this.setState({products: products})\n    }, 1000);\n  }\n\n  login = async (username) => {\n    signInAnonymously(auth)\n    authChange(username)\n    onAuthStateChanged(auth, async (user) => {\n      if (user) {\n        const token = await getIdToken(user)\n        this.setState({ usertoken: this.state.usertoken.push(token)})\n      }\n    })\n    this.setState({ user: username })\n    console.log(this.state.usertoken)\n  }\n\n  logout = e => {\n    e.preventDefault()\n    this.setState({ user: null, usertoken: null })\n  }\n\n   addToCart = (product) => {\n    setTimeout(() => {\n      let newCart = [];\n      let updatedProducts = [];\n\n      /* Check Stock */\n      let indexProd = this.state.products.findIndex((prod) => {\n        return prod.id === product.id;\n      });\n\n      let correctNumber = product.price.replace(/,/g,'').replace(/\\$/g,'')\n      let newTotal = Number(this.state.total) + Number(correctNumber)\n\n      if (this.state.products[indexProd].stock > 0) {\n        let indexCart = this.state.cart.findIndex((item) => {\n          return item.id === product.id;\n        });\n\n        /* Add product to cart */\n        if (indexCart === -1) {\n          /*New item */\n          this.setState({\n            cart: this.state.cart.concat([\n              {\n                id: product.id,\n                title: product.title,\n                img: product.img,\n                link: product.link,\n                description: product.description,\n                medium: product.medium,\n                artist: product.artist,\n                quantity: 1,\n                price: product.price\n              },\n            ]),\n            total: newTotal\n          });\n        } else {\n          /* Existing item */\n          newCart = this.state.cart;\n          newCart[indexCart].quantity = newCart[indexCart].quantity + 1;\n\n          this.setState({\n            cart: newCart,\n            total: newTotal\n          });\n        }\n\n        /* Update Stock */\n        updatedProducts = this.state.products;\n\n        updatedProducts[indexProd].stock--;\n\n        this.setState({ products: updatedProducts, total: newTotal, numberOfItems: this.state.numberOfItems + 1 });\n      }\n    }, 100);\n  };\n\n  removeFromCart = (id, quantity) => {\n    setTimeout(() => {\n      let newCart = this.state.cart;\n\n      /* Delete item */\n      this.setState({ cart: newCart.filter((item) => item.id !== id) });\n\n      let indexProd = this.state.products.findIndex((prod) => {\n        return prod.id === id;\n      });\n\n      let updatedProducts = this.state.products;\n\n      updatedProducts[indexProd].stock =\n        updatedProducts[indexProd].stock + parseInt(quantity);\n\n      this.setState({ products: updatedProducts });\n    }, 100);\n  };\n\n  checkout = () => {\n    const cart = this.state.cart;\n    const products = this.state.products\n\n    if (cart.length !== 0) {\n          console.log(\"Successful items update\");\n          this.setState({ cart: [], total: 0, numberOfItems: 0 });\n          alert(\"Cart Ordered!!!\");\n    }\n  };\n\n  checkbox = () => {\n    const totalAmount = document.getElementById(\"total-amount\")\n    const freeText = document.getElementById(\"free\")\n    const checkbtn = document.querySelector(\"input\");\n    checkbtn.addEventListener('click', function() {\n        if (checkbtn.checked) {\n            totalAmount.classList.add(\"crossout\")\n            freeText.style.display = \"inherit\"\n        } else {\n            totalAmount.classList.remove(\"crossout\")\n            freeText.style.display = \"none\"\n        }\n    })\n  }\n\n  moreInfo = (product) => {\n\n  }\n\n\nrender() {\n  return (\n  <Context.Provider\n    value={{\n      ...this.state,\n      removeFromCart: this.removeFromCart,\n      addToCart: this.addToCart,\n      login: this.login,\n      checkout: this.checkout,\n      checkbox: this.checkbox\n    }}\n  >\n    <Router ref={this.routerRef}>\n      <div className='App'>\n        <nav\n          className='navbar container'\n          role='navigation'\n          aria-label='main navigation'\n        >\n        <div className='navbar-brand'>\n          <b>eCommerce Paintings</b>\n          <label\n            role='button'\n            class='navbar-burger burger'\n            aria-label='menu'\n            aria-expanded='false'\n            data-target='navbarBasicExample'\n            onClick={e => {\n              e.preventDefault()\n              this.setState({ showMenu: !this.state.showMenu })\n            }}\n          >\n            <span aria-hidden=\"true\"></span>\n            <span aria-hidden=\"true\"></span>\n            <span aria-hidden=\"true\"></span>\n          </label>\n        </div>\n            <div className={`navbar-menu ${\n              this.state.showMenu ? \"is-active\" : \"\"\n              }`}>\n              <NavLink to=\"/products\" className={({ isActive }) => \n                      (isActive ? \"active-nav navbar-item\" : \"navbar-item\")}>\n                Products\n              </NavLink>\n              <NavLink to=\"/cart\" className={({ isActive }) => \n                      (isActive ? \"active-nav navbar-item\" : \"navbar-item\")}>\n                Cart\n                <span\n                  className='tag is-primary'\n                  style={{ marginLeft: \"5px\" }}\n                >\n                  { Object.keys(this.state.cart).length }\n                </span>\n              </NavLink>\n              <NavLink to=\"/about\" className={({ isActive }) => \n                      (isActive ? \"active-nav navbar-item\" : \"navbar-item\")}>\n                About\n              </NavLink>\n              <NavLink to=\"/user\" className={({ isActive }) => \n                      (isActive ? \"active-nav navbar-item\" : \"navbar-item\")}>\n                 {this.state.user}\n              </NavLink>\n              {!this.state.user ? (\n                <NavLink to=\"/login\" className={({ isActive }) => \n                      (isActive ? \"active-nav navbar-item\" : \"navbar-item\")}>\n                  Login\n                </NavLink>\n              ) : (\n                <NavLink to=\"/\" onClick={this.logout} className={({ isActive }) => \n                      (isActive ? \"active-nav navbar-item\" : \"navbar-item\")}>\n                  Logout\n                </NavLink>\n              )}\n            </div>\n          </nav>\n          <Routes>\n            <Route exact path=\"/\" element={<ProductList />} />\n            <Route exact path=\"/login\" element={<Login />} />\n            <Route exact path=\"/user\" element={<User />} />\n            <Route exact path=\"/cart\" element={<Cart />} />\n            <Route exact path=\"/about\" element={<About />} />\n            <Route exact path=\"/add-product\" element={<AddProduct />} />\n            <Route exact path=\"/products\" element={<ProductList />} />\n            <Route path=\"/:title\" element={<ProductDetails />} />\n          </Routes>\n        </div>\n      </Router>\n    </Context.Provider>\n    );\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}